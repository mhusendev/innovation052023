import{N as f}from"./Navbar-d758c7d0.js";import{r as b,o,c as l,a as k,b as e,w as r,v as m,g as v,F as u,d as h,t as c}from"./index-96976ba5.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-c11b1bdc.js";const j={name:"pengajuan",components:{Navbar:f},data(){return{file:"",filetemp:[],inovator:"",savebtn:"Save",selectedTahapan_inovasi:"--pilih--",selectedInisiator:"--pilih--",selectedJenisinovasi:"--pilih--",selectedBentukinovasi:"--pilih--",selectedInovasiCovid:"--pilih--",selectedJenisUrusan:"--pilih--",selectedTemaInovasi:"--pilih--",selectedDocs:"--pilih--",jenis_docs:[{name:"surat"},{name:"proposal"},{name:"foto dokumentasi"},{name:"vidio dokumentasi"},{name:"foto cover"}],nama_perangkat_daerah:[],tahapan_inovasi:[],nama_inovasi:"",inisiator:[],jenis_inovasi:[],bentuk_inovasi:[],inovasi_covid:[],jenis_urusan:[],tema:[],keterangan:""}},methods:{async save(){try{let a=await{nama_inovasi:this.nama_inovasi,inovator:this.inovator,nama_perangkat_daerah:this.nama_perangkat_daerah,tahapan:this.selectedTahapan_inovasi,inisiator:this.selectedInisiator,jenis:this.selectedJenisinovasi,bentuk:this.selectedBentukinovasi,inovasi_thdp_covid:this.selectedInovasiCovid,jenis_urusan:this.selectedJenisUrusan,tema:this.selectedTemaInovasi,tanggal:new Date().getDay()+"/"+new Date().getMonth()+"/"+new Date().getFullYear(),keterangan:this.keterangan};console.log(a);let t=new FormData;t.append("nama_inovasi",a.nama_inovasi),t.append("inovator",a.inovator),t.append("nama_perangkat_daerah",a.nama_perangkat_daerah),t.append("tahapan",a.tahapan),t.append("inisiator",a.inisiator),t.append("jenis",a.jenis),t.append("bentuk",a.bentuk),t.append("inovasi_thdp_covid",a.inovasi_thdp_covid),t.append("jenis_urusan_inovasi",a.jenis_urusan),t.append("tema",a.tema),t.append("tanggal",a.tanggal),t.append("keterangan",a.keterangan);for(let p in this.filetemp)t.append("files",this.filetemp[p].data),t.append("jenisfile",this.filetemp[p].jenis_docs),t.append("namafile",this.filetemp[p].data.name);let d="https://ed6c-180-244-243-52.ngrok-free.app",i="/inovasi/submitdata",n="Bearer "+localStorage.getItem("token");console.log(await t),this.savebtn="Submitting...",fetch(d+i,{method:"POST",headers:{Authorization:n},body:t}).then(p=>p.json()).then(p=>{this.savebtn="Save",p.status==="OK"?(alert("Submit Berhasil"),window.location.href="/pengajuan-inovasi"):alert("submit gagal")}).catch(p=>{alert("submit gagal"),console.log(p)})}catch(a){console.log(a)}},async addFile(){let a={jenis_docs:this.selectedDocs,data:this.file};this.filetemp.push(a),console.log(this.filetemp[0].data.name)},previewFiles(a){console.log(a.target.files[0]),this.file=a.target.files[0]},gettemainovasi(){let a="https://ed6c-180-244-243-52.ngrok-free.app",t="/inovasi/tema",d="Bearer "+localStorage.getItem("token");fetch(a+t,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.tema=i}).catch(i=>{})},getjenisurusan(){let a="https://ed6c-180-244-243-52.ngrok-free.app",t="/inovasi/jenis_urusan",d="Bearer "+localStorage.getItem("token");fetch(a+t,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.jenis_urusan=i}).catch(i=>{})},getinovasicovid(){let a="https://ed6c-180-244-243-52.ngrok-free.app",t="/inovasi/inovasi_covid",d="Bearer "+localStorage.getItem("token");fetch(a+t,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.inovasi_covid=i}).catch(i=>{})},getbentukinovasi(){let a="https://ed6c-180-244-243-52.ngrok-free.app",t="/inovasi/bentuk_inovasi",d="Bearer "+localStorage.getItem("token");fetch(a+t,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.bentuk_inovasi=i}).catch(i=>{})},getjenisinovasi(){let a="https://ed6c-180-244-243-52.ngrok-free.app",t="/inovasi/jenis_inovasi",d="Bearer "+localStorage.getItem("token");fetch(a+t,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.jenis_inovasi=i}).catch(i=>{})},getinisiator(){let a="https://ed6c-180-244-243-52.ngrok-free.app",t="/inovasi/inisiator",d="Bearer "+localStorage.getItem("token");fetch(a+t,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.inisiator=i}).catch(i=>{})},getTahapan(){let a="https://ed6c-180-244-243-52.ngrok-free.app",t="/inovasi/tahapan",d="Bearer "+localStorage.getItem("token");fetch(a+t,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.tahapan_inovasi=i}).catch(i=>{})}},mounted:function(){console.log(this.selectedTahapan_inovasi)},created:function(){this.getTahapan(),this.getinisiator(),this.getjenisinovasi(),this.getbentukinovasi(),this.getinovasicovid(),this.getjenisurusan(),this.gettemainovasi()}},y={class:"w-full h-screen overflow-auto bg-white"},x=e("h1",{class:"ml-10 mt-5 font-bold md:text-2xl md:border-b-2 border-b pb-3 border-black w-fit"},"Pengajuan inovasi",-1),T={class:"w-full px-10 py-10"},I={class:"w-full px-5 py-5 shadow-lg rounded-lg"},U={class:"grid md:grid-cols-4 grid-cols-1 gap-4"},B={class:"w-full"},C=e("p",{class:"mb-2"},"Nama Inovasi",-1),A={class:"w-full"},D=e("p",{class:"mb-2"},"Inovator",-1),R={class:"w-full"},S=e("p",{class:"mb-2"},"Nama Perangkat Daerah",-1),V={class:"w-full"},J=e("p",{class:"mb-2"},"Tahapan inovasi",-1),L=e("option",{value:"--pilih--"},"--pilih--",-1),F=["selected","value"],N={class:"w-full"},z=e("p",{class:"mb-2"},"Inisator Inovasi",-1),E=e("option",{value:"--pilih--"},"--pilih--",-1),G=["selected","value"],P={class:"w-full"},M=e("p",{class:"mb-2"},"Jenis Inovasi",-1),O=e("option",{value:"--pilih--"},"--pilih--",-1),K=["selected","value"],Y={class:"w-full"},q=e("p",{class:"mb-2"},"Bentuk Inovasi",-1),H=e("option",{value:"--pilih--"},"--pilih--",-1),Q=["selected","value"],W={class:"w-full"},X=e("p",{class:"mb-2"},"Inovasi Terhadap Pandemi Covid19",-1),Z=e("option",{value:"--pilih--"},"--pilih--",-1),$=["selected","value"],ee={class:"w-full"},te=e("p",{class:"mb-2"},"Jenis Urusan Inovasi",-1),se=e("option",{value:"--pilih--"},"--pilih--",-1),ne=["selected","value"],ie={class:"w-full"},ae=e("p",{class:"mb-2"},"Tema Inovasi",-1),oe=e("option",{value:"--pilih--"},"--pilih--",-1),le=["selected","value"],de={class:"w-full mt-5"},pe=e("p",{class:"mb-2"},"Deskripsi Inovasi",-1),re={class:"w-full px-5 py-5 shadow-lg rounded-lg"},ce=e("p",{class:"mb-5 mt-2 border-b w-fit border-black pb-3"},"Upload Dokumentasi",-1),ue={class:"w-[100%] grid grid-cols-1 md:grid-cols-3 gap-4"},he=e("option",{value:"--pilih--"},"--pilih jenis dokumen--",-1),ve=["selected","value"],me={class:"w-full flex"},_e=e("p",{class:"mb-5 mt-10 border-b w-fit border-black pb-3"},"List Dokumentasi Upload",-1),ge={class:"w-full"},fe={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},be=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," No "),e("th",{scope:"col",class:"px-6 py-3"}," url "),e("th",{scope:"col",class:"px-6 py-3"}," jenis dokumen ")])],-1),ke={scope:"col",class:"px-6 py-3"},we={scope:"col",class:"px-6 py-3"},je={scope:"col",class:"px-6 py-3"};function ye(a,t,d,i,n,p){const _=b("Navbar");return o(),l("div",y,[k(_),x,e("div",T,[e("div",I,[e("div",U,[e("div",B,[C,r(e("input",{type:"text",class:"w-full","onUpdate:modelValue":t[0]||(t[0]=s=>n.nama_inovasi=s)},null,512),[[m,n.nama_inovasi]])]),e("div",A,[D,r(e("input",{type:"text",class:"w-full","onUpdate:modelValue":t[1]||(t[1]=s=>n.inovator=s)},null,512),[[m,n.inovator]])]),e("div",R,[S,r(e("input",{type:"text",class:"w-full","onUpdate:modelValue":t[2]||(t[2]=s=>n.nama_perangkat_daerah=s)},null,512),[[m,n.nama_perangkat_daerah]])]),e("div",V,[J,r(e("select",{class:"w-full","onUpdate:modelValue":t[3]||(t[3]=s=>n.selectedTahapan_inovasi=s)},[L,(o(!0),l(u,null,h(n.tahapan_inovasi,s=>(o(),l("option",{selected:n.selectedTahapan_inovasi===s.id,value:s.nama},c(s.nama),9,F))),256))],512),[[v,n.selectedTahapan_inovasi]])]),e("div",N,[z,r(e("select",{class:"w-full","onUpdate:modelValue":t[4]||(t[4]=s=>n.selectedInisiator=s)},[E,(o(!0),l(u,null,h(n.inisiator,s=>(o(),l("option",{selected:n.selectedInisiator===s.id,value:s.nama},c(s.nama),9,G))),256))],512),[[v,n.selectedInisiator]])]),e("div",P,[M,r(e("select",{class:"w-full","onUpdate:modelValue":t[5]||(t[5]=s=>n.selectedJenisinovasi=s)},[O,(o(!0),l(u,null,h(n.jenis_inovasi,s=>(o(),l("option",{selected:n.selectedJenisinovasi===s.id,value:s.nama},c(s.nama),9,K))),256))],512),[[v,n.selectedJenisinovasi]])]),e("div",Y,[q,r(e("select",{class:"w-full","onUpdate:modelValue":t[6]||(t[6]=s=>n.selectedBentukinovasi=s)},[H,(o(!0),l(u,null,h(n.bentuk_inovasi,s=>(o(),l("option",{selected:n.selectedBentukinovasi===s.id,value:s.nama},c(s.nama),9,Q))),256))],512),[[v,n.selectedBentukinovasi]])]),e("div",W,[X,r(e("select",{class:"w-full","onUpdate:modelValue":t[7]||(t[7]=s=>n.selectedInovasiCovid=s)},[Z,(o(!0),l(u,null,h(n.inovasi_covid,s=>(o(),l("option",{selected:n.selectedInovasiCovid===s.id,value:s.nama},c(s.nama),9,$))),256))],512),[[v,n.selectedInovasiCovid]])]),e("div",ee,[te,r(e("select",{class:"w-full","onUpdate:modelValue":t[8]||(t[8]=s=>n.selectedJenisUrusan=s)},[se,(o(!0),l(u,null,h(n.jenis_urusan,s=>(o(),l("option",{selected:n.selectedJenisUrusan===s.id,value:s.nama},c(s.nama),9,ne))),256))],512),[[v,n.selectedJenisUrusan]])]),e("div",ie,[ae,r(e("select",{class:"w-full","onUpdate:modelValue":t[9]||(t[9]=s=>n.selectedTemaInovasi=s)},[oe,(o(!0),l(u,null,h(n.tema,s=>(o(),l("option",{selected:n.selectedTemaInovasi===s.id,value:s.nama},c(s.nama),9,le))),256))],512),[[v,n.selectedTemaInovasi]])])]),e("div",de,[pe,r(e("textarea",{class:"w-full","onUpdate:modelValue":t[10]||(t[10]=s=>n.keterangan=s)},null,512),[[m,n.keterangan]])])]),e("div",re,[ce,e("div",ue,[e("input",{type:"file",class:"w-full",onChange:t[11]||(t[11]=(...s)=>p.previewFiles&&p.previewFiles(...s)),multiple:!1},null,32),r(e("select",{class:"w-ful mr-10","onUpdate:modelValue":t[12]||(t[12]=s=>n.selectedDocs=s)},[he,(o(!0),l(u,null,h(n.jenis_docs,s=>(o(),l("option",{selected:n.selectedDocs===s.name,value:s.name},c(s.name),9,ve))),256))],512),[[v,n.selectedDocs]]),e("div",me,[e("button",{onClick:t[13]||(t[13]=s=>p.addFile()),class:"px-3 py-2 bg-green-800 text-white rounded"},"Add"),e("button",{onClick:t[14]||(t[14]=s=>p.save()),class:"w-full ml-3 px-3 py-2 bg-slate-800 text-white rounded"},c(n.savebtn),1)])]),_e,e("div",ge,[e("table",fe,[be,e("tbody",null,[(o(!0),l(u,null,h(n.filetemp,(s,g)=>(o(),l("tr",null,[e("td",ke,c(g+1),1),e("td",we,c(s.data.name),1),e("td",je,c(s.jenis_docs),1)]))),256))])])])])])])}const Be=w(j,[["render",ye]]);export{Be as default};
