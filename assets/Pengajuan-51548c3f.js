import{N as w}from"./Navbar-5fb66d90.js";import{Q as j}from"./vue-quill.snow-b137623f.js";import{r as _,o,c as l,a as g,b as t,w as r,v as m,g as v,F as u,d as h,t as c}from"./index-ac8fc270.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-c11b1bdc.js";const T={name:"pengajuan",components:{Navbar:w,QuillEditor:j},data(){return{file:"",filetemp:[],inovator:"",savebtn:"Save",selectedTahapan_inovasi:"--pilih--",selectedInisiator:"--pilih--",selectedJenisinovasi:"--pilih--",selectedBentukinovasi:"--pilih--",selectedInovasiCovid:"--pilih--",selectedJenisUrusan:"--pilih--",selectedTemaInovasi:"--pilih--",selectedDocs:"--pilih--",jenis_docs:[{name:"surat"},{name:"proposal"},{name:"foto dokumentasi"},{name:"vidio dokumentasi"},{name:"foto cover"}],nama_perangkat_daerah:[],tahapan_inovasi:[],nama_inovasi:"",inisiator:[],jenis_inovasi:[],bentuk_inovasi:[],inovasi_covid:[],jenis_urusan:[],tema:[],keterangan:""}},methods:{async save(){try{let a=await{nama_inovasi:this.nama_inovasi,inovator:this.inovator,nama_perangkat_daerah:this.nama_perangkat_daerah,tahapan:this.selectedTahapan_inovasi,inisiator:this.selectedInisiator,jenis:this.selectedJenisinovasi,bentuk:this.selectedBentukinovasi,inovasi_thdp_covid:this.selectedInovasiCovid,jenis_urusan:this.selectedJenisUrusan,tema:this.selectedTemaInovasi,tanggal:new Date().getDay()+"/"+new Date().getMonth()+"/"+new Date().getFullYear(),keterangan:this.keterangan};console.log(a);let e=new FormData;e.append("nama_inovasi",a.nama_inovasi),e.append("inovator",a.inovator),e.append("nama_perangkat_daerah",a.nama_perangkat_daerah),e.append("tahapan",a.tahapan),e.append("inisiator",a.inisiator),e.append("jenis",a.jenis),e.append("bentuk",a.bentuk),e.append("inovasi_thdp_covid",a.inovasi_thdp_covid),e.append("jenis_urusan_inovasi",a.jenis_urusan),e.append("tema",a.tema),e.append("tanggal",a.tanggal),e.append("keterangan",a.keterangan);for(let p in this.filetemp)e.append("files",this.filetemp[p].data),e.append("jenisfile",this.filetemp[p].jenis_docs),e.append("namafile",this.filetemp[p].data.name);let d="https://8e03-118-96-87-76.ngrok-free.app",i="/inovasi/submitdata",n="Bearer "+localStorage.getItem("token");console.log(await e),this.savebtn="Submitting...",fetch(d+i,{method:"POST",headers:{Authorization:n},body:e}).then(p=>p.json()).then(p=>{this.savebtn="Save",p.status==="OK"?(alert("Submit Berhasil"),window.location.href="/pengajuan-inovasi"):alert("submit gagal")}).catch(p=>{alert("submit gagal"),console.log(p)})}catch(a){console.log(a)}},async addFile(){let a={jenis_docs:this.selectedDocs,data:this.file};this.filetemp.push(a),console.log(this.filetemp[0].data.name)},previewFiles(a){console.log(a.target.files[0]),this.file=a.target.files[0]},gettemainovasi(){let a="https://8e03-118-96-87-76.ngrok-free.app",e="/inovasi/tema",d="Bearer "+localStorage.getItem("token");fetch(a+e,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.tema=i}).catch(i=>{})},getjenisurusan(){let a="https://8e03-118-96-87-76.ngrok-free.app",e="/inovasi/jenis_urusan",d="Bearer "+localStorage.getItem("token");fetch(a+e,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.jenis_urusan=i}).catch(i=>{})},getinovasicovid(){let a="https://8e03-118-96-87-76.ngrok-free.app",e="/inovasi/inovasi_covid",d="Bearer "+localStorage.getItem("token");fetch(a+e,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.inovasi_covid=i}).catch(i=>{})},getbentukinovasi(){let a="https://8e03-118-96-87-76.ngrok-free.app",e="/inovasi/bentuk_inovasi",d="Bearer "+localStorage.getItem("token");fetch(a+e,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.bentuk_inovasi=i}).catch(i=>{})},getjenisinovasi(){let a="https://8e03-118-96-87-76.ngrok-free.app",e="/inovasi/jenis_inovasi",d="Bearer "+localStorage.getItem("token");fetch(a+e,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.jenis_inovasi=i}).catch(i=>{})},getinisiator(){let a="https://8e03-118-96-87-76.ngrok-free.app",e="/inovasi/inisiator",d="Bearer "+localStorage.getItem("token");fetch(a+e,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.inisiator=i}).catch(i=>{})},getTahapan(){let a="https://8e03-118-96-87-76.ngrok-free.app",e="/inovasi/tahapan",d="Bearer "+localStorage.getItem("token");fetch(a+e,{method:"GET",credentials:"include",headers:{Authorization:d,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.tahapan_inovasi=i}).catch(i=>{})}},mounted:function(){console.log(this.selectedTahapan_inovasi)},created:function(){this.getTahapan(),this.getinisiator(),this.getjenisinovasi(),this.getbentukinovasi(),this.getinovasicovid(),this.getjenisurusan(),this.gettemainovasi()}},x={class:"w-full h-screen overflow-auto bg-white"},I=t("h1",{class:"ml-10 mt-5 font-bold md:text-2xl md:border-b-2 border-b pb-3 border-black w-fit"},"Pengajuan inovasi",-1),U={class:"w-full px-10 py-10"},B={class:"w-full px-5 py-5 shadow-lg rounded-lg"},C={class:"grid md:grid-cols-4 grid-cols-1 gap-4"},A={class:"w-full"},D=t("p",{class:"mb-2"},"Nama Inovasi",-1),R={class:"w-full"},S=t("p",{class:"mb-2"},"Inovator",-1),V={class:"w-full"},J=t("p",{class:"mb-2"},"Nama Perangkat Daerah",-1),E={class:"w-full"},L=t("p",{class:"mb-2"},"Tahapan inovasi",-1),F=t("option",{value:"--pilih--"},"--pilih--",-1),N=["selected","value"],z={class:"w-full"},G=t("p",{class:"mb-2"},"Inisator Inovasi",-1),P=t("option",{value:"--pilih--"},"--pilih--",-1),Q=["selected","value"],M={class:"w-full"},O=t("p",{class:"mb-2"},"Jenis Inovasi",-1),K=t("option",{value:"--pilih--"},"--pilih--",-1),Y=["selected","value"],q={class:"w-full"},H=t("p",{class:"mb-2"},"Bentuk Inovasi",-1),W=t("option",{value:"--pilih--"},"--pilih--",-1),X=["selected","value"],Z={class:"w-full"},$=t("p",{class:"mb-2"},"Inovasi Terhadap Pandemi Covid19",-1),ee=t("option",{value:"--pilih--"},"--pilih--",-1),te=["selected","value"],se={class:"w-full"},ne=t("p",{class:"mb-2"},"Jenis Urusan Inovasi",-1),ie=t("option",{value:"--pilih--"},"--pilih--",-1),ae=["selected","value"],oe={class:"w-full"},le=t("p",{class:"mb-2"},"Tema Inovasi",-1),de=t("option",{value:"--pilih--"},"--pilih--",-1),pe=["selected","value"],re={class:"w-full mt-5"},ce=t("p",{class:"mb-2"},"Deskripsi Inovasi",-1),ue={class:"w-full px-5 py-5 shadow-lg rounded-lg"},he=t("p",{class:"mb-5 mt-2 border-b w-fit border-black pb-3"},"Upload Dokumentasi",-1),ve={class:"w-[100%] grid grid-cols-1 md:grid-cols-3 gap-4"},me=t("option",{value:"--pilih--"},"--pilih jenis dokumen--",-1),_e=["selected","value"],ge={class:"w-full flex"},fe=t("p",{class:"mb-5 mt-10 border-b w-fit border-black pb-3"},"List Dokumentasi Upload",-1),be={class:"w-full"},ke={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},we=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," No "),t("th",{scope:"col",class:"px-6 py-3"}," jenis dokumen ")])],-1),je={scope:"col",class:"px-6 py-3"},ye={scope:"col",class:"px-6 py-3"};function Te(a,e,d,i,n,p){const f=_("Navbar"),b=_("QuillEditor");return o(),l("div",x,[g(f),I,t("div",U,[t("div",B,[t("div",C,[t("div",A,[D,r(t("input",{type:"text",class:"w-full","onUpdate:modelValue":e[0]||(e[0]=s=>n.nama_inovasi=s)},null,512),[[m,n.nama_inovasi]])]),t("div",R,[S,r(t("input",{type:"text",class:"w-full","onUpdate:modelValue":e[1]||(e[1]=s=>n.inovator=s)},null,512),[[m,n.inovator]])]),t("div",V,[J,r(t("input",{type:"text",class:"w-full","onUpdate:modelValue":e[2]||(e[2]=s=>n.nama_perangkat_daerah=s)},null,512),[[m,n.nama_perangkat_daerah]])]),t("div",E,[L,r(t("select",{class:"w-full","onUpdate:modelValue":e[3]||(e[3]=s=>n.selectedTahapan_inovasi=s)},[F,(o(!0),l(u,null,h(n.tahapan_inovasi,s=>(o(),l("option",{selected:n.selectedTahapan_inovasi===s.id,value:s.nama},c(s.nama),9,N))),256))],512),[[v,n.selectedTahapan_inovasi]])]),t("div",z,[G,r(t("select",{class:"w-full","onUpdate:modelValue":e[4]||(e[4]=s=>n.selectedInisiator=s)},[P,(o(!0),l(u,null,h(n.inisiator,s=>(o(),l("option",{selected:n.selectedInisiator===s.id,value:s.nama},c(s.nama),9,Q))),256))],512),[[v,n.selectedInisiator]])]),t("div",M,[O,r(t("select",{class:"w-full","onUpdate:modelValue":e[5]||(e[5]=s=>n.selectedJenisinovasi=s)},[K,(o(!0),l(u,null,h(n.jenis_inovasi,s=>(o(),l("option",{selected:n.selectedJenisinovasi===s.id,value:s.nama},c(s.nama),9,Y))),256))],512),[[v,n.selectedJenisinovasi]])]),t("div",q,[H,r(t("select",{class:"w-full","onUpdate:modelValue":e[6]||(e[6]=s=>n.selectedBentukinovasi=s)},[W,(o(!0),l(u,null,h(n.bentuk_inovasi,s=>(o(),l("option",{selected:n.selectedBentukinovasi===s.id,value:s.nama},c(s.nama),9,X))),256))],512),[[v,n.selectedBentukinovasi]])]),t("div",Z,[$,r(t("select",{class:"w-full","onUpdate:modelValue":e[7]||(e[7]=s=>n.selectedInovasiCovid=s)},[ee,(o(!0),l(u,null,h(n.inovasi_covid,s=>(o(),l("option",{selected:n.selectedInovasiCovid===s.id,value:s.nama},c(s.nama),9,te))),256))],512),[[v,n.selectedInovasiCovid]])]),t("div",se,[ne,r(t("select",{class:"w-full","onUpdate:modelValue":e[8]||(e[8]=s=>n.selectedJenisUrusan=s)},[ie,(o(!0),l(u,null,h(n.jenis_urusan,s=>(o(),l("option",{selected:n.selectedJenisUrusan===s.id,value:s.nama},c(s.nama),9,ae))),256))],512),[[v,n.selectedJenisUrusan]])]),t("div",oe,[le,r(t("select",{class:"w-full","onUpdate:modelValue":e[9]||(e[9]=s=>n.selectedTemaInovasi=s)},[de,(o(!0),l(u,null,h(n.tema,s=>(o(),l("option",{selected:n.selectedTemaInovasi===s.id,value:s.nama},c(s.nama),9,pe))),256))],512),[[v,n.selectedTemaInovasi]])])]),t("div",re,[ce,g(b,{contentType:"html",theme:"snow",content:n.keterangan,"onUpdate:content":e[10]||(e[10]=s=>n.keterangan=s)},null,8,["content"])])]),t("div",ue,[he,t("div",ve,[t("input",{type:"file",class:"w-full",onChange:e[11]||(e[11]=(...s)=>p.previewFiles&&p.previewFiles(...s)),multiple:!1},null,32),r(t("select",{class:"w-ful mr-10","onUpdate:modelValue":e[12]||(e[12]=s=>n.selectedDocs=s)},[me,(o(!0),l(u,null,h(n.jenis_docs,s=>(o(),l("option",{selected:n.selectedDocs===s.name,value:s.name},c(s.name),9,_e))),256))],512),[[v,n.selectedDocs]]),t("div",ge,[t("button",{onClick:e[13]||(e[13]=s=>p.addFile()),class:"px-3 py-2 bg-green-800 text-white rounded"},"Add"),t("button",{onClick:e[14]||(e[14]=s=>p.save()),class:"w-full ml-3 px-3 py-2 bg-slate-800 text-white rounded"},c(n.savebtn),1)])]),fe,t("div",be,[t("table",ke,[we,t("tbody",null,[(o(!0),l(u,null,h(n.filetemp,(s,k)=>(o(),l("tr",null,[t("td",je,c(k+1),1),t("td",ye,c(s.jenis_docs),1)]))),256))])])])])])])}const Ae=y(T,[["render",Te]]);export{Ae as default};
